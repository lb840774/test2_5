import boto3, json

c = boto3.client("bedrock-agentcore-control", region_name="us-east-1")

op = c.meta.service_model.operation_model("CreateGatewayTarget")
inp = op.input_shape

def shape_to_dict(shape, depth=0, max_depth=6):
    if depth >= max_depth:
        return str(shape)
    out = {"type": shape.type_name}
    if hasattr(shape, "members") and shape.members:
        out["members"] = {k: shape_to_dict(v, depth+1, max_depth) for k,v in shape.members.items()}
    if hasattr(shape, "member") and shape.member:
        out["member"] = shape_to_dict(shape.member, depth+1, max_depth)
    if hasattr(shape, "required_members"):
        out["required"] = list(shape.required_members)
    return out

print(json.dumps(shape_to_dict(inp), indent=2)[:6000])
